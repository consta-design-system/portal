import { MdxInformer } from '@consta/stand';

import { NewFontPictures } from './components/newFontPictures';

Сейчас шрифт Inter встроен в дизайн-систему: ничего специально настраивать и подключать не нужно. Но если вы используете макеты с другим шрифтом, можете подключить Inter по этой инструкции.

## Как поменять шрифт в макетах

### 1. Скачайте шрифт Inter

Вы можете скачать шрифт с [официального сайта](https://rsms.me/inter/) или с [Google Fonts](https://fonts.google.com/specimen/Inter?query=inter).

### 2. Установите шрифт на ваш компьютер

[Инструкция по установке нового шрифта для Mac OS](https://lifehacker.ru/kak-ustanovit-shrift-v-windows-i-macos)

### 3. Обновите библиотеки Consta в Figma

Подтяните обновления с новым шрифтом в свои файлы. Скорее всего, вы используете эти библиотеки у себя в макетах, их нужно обновить в первую очередь:

- [Consta Default Typography](https://www.figma.com/community/file/855746990421795518)
- [Consta UI-kit](https://www.figma.com/community/file/853774806786762374)
- [Consta Geo-kit](https://www.figma.com/community/file/1063113573061305628)
- [Consta Charts](https://www.figma.com/community/file/982611119114314434)

Остальные файлы в Community предназначены для просмотра, копирования или не используют типографику как экспортируемый ресурс. В них уже установлен новый шрифт, но в Figma вы, скорее всего, не получите уведомлений.

### 3. Проверьте макеты

Проверьте макеты и убедитесь, что библиотечные компоненты обновились. Это важно для следующих шагов.
Если вы используете локальные компоненты без текстовых стилей из Consta Default Typography, обновление библиотек их не коснется.

### 4. Замените шрифт там, где не подключены компоненты или стили библиотек

Для замены шрифта в остальных элементах и компонентах есть плагин [Consta font replacer](https://www.figma.com/community/plugin/1100808562040625391).

API Figma позволяет искать текстовые слои по всему файлу, внутри всех страниц. Если макетов в файле много, плагин обходит слои в проекте очень медленно и редактор часто зависает. Поэтому плагин меняет шрифт не во всём файле сразу, а только **на одной странице**. Это быстрее и позволяет лучше контролировать процесс замены.

<MdxInformer status="success">

Рекомендуем запускать плагин в десктопном клиенте, а не в браузере.

</MdxInformer>

### Как пользоваться плагином

**Шаг 1.** Установить Inter в систему, если его нет.

**Шаг 2.** Установить плагин из Figma Community.

**Шаг 3.** Открыть рабочий файл.

**Шаг 4.** Зайти на первую страницу (Page) и запустить плагин (в зависимости от количества артбордов, плагин может работать до 5 минут, именно столько обрабатывалась страница с ~40 артбордами и 24 000 текстовых слоев).

**Шаг 5.** Во время работы плагина лучше закрыть все программы, кроме Figma, и ничего не трогать на артбордах.

**Шаг 6.** Дождаться завершения работы плагина, рандомно прокликав текстовые слои.

**Далее.** Перейти на другую страницу и вызвать плагин заново. Для других файлов алгоритм такой же.

## Известные проблемы

### «Зависает» компьютер

От такого не застрахован никто.

Если проблема повторяется:

- Перезапустите Figma и плагин.
- Разбейте макеты с одной на несколько страниц.

### «Поехали» контейнеры с текстом

<NewFontPictures />

Мы в поиске решения. Пока придётся пройти все макеты руками:

- Исправить значение на Auto width.
- Проверить позиционирование.

<MdxInformer status="warning">

Вы можете сообщить о проблеме в [чате Consta](https://t.me/Consta_Chat).

</MdxInformer>
